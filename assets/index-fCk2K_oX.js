var x=Object.defineProperty;var B=(h,t,e)=>t in h?x(h,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):h[t]=e;var o=(h,t,e)=>(B(h,typeof t!="symbol"?t+"":t,e),e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(s){if(s.ep)return;s.ep=!0;const n=e(s);fetch(s.href,n)}})();class v{constructor(){o(this,"undoStack",[]);o(this,"redoStack",[])}execute(t){this.undoStack.push(t),this.redoStack=[],console.log(this.toString())}undo(){const t=this.undoStack.pop();t&&(this.redoStack.push(t),t.undo()),console.log(this.toString())}redo(){const t=this.redoStack.pop();t&&(this.undoStack.push(t),t.do()),console.log(this.toString())}get canUndo(){return this.undoStack.length>0}get canRedo(){return this.redoStack.length>0}toString(){return`undoStack: ${this.undoStack.length}, redoStack: ${this.redoStack.length}`}}class S{constructor(){o(this,"observers",[])}addObserver(t){this.observers.push(t),t.update()}removeObserver(t){this.observers=this.observers.filter(e=>e!==t)}notifyObservers(){this.observers.forEach(t=>t.update())}}function f(){return`hsl(${Math.floor(Math.random()*360)}, 100%, 50%)`}function y(){const h=["Centre","Left","Right"],t=Math.floor(Math.random()*h.length);return h[t]}function _(){return Math.floor(Math.random()*8)+3}function b(){return Math.floor(Math.random()*4)+2}function C(){return Math.floor(Math.random()*26)+20}class u{constructor(t,e=1){o(this,"x",0);o(this,"y",0);o(this,"width",50);o(this,"height",50);o(this,"id",0);o(this,"scale");o(this,"colour");o(this,"colours");o(this,"selected",!1);o(this,"gc");this.id=t,this.gc=null,this.scale=e,this.colour=f()}setCanvas(t){if(!t)throw new Error("Canvas not found");this.gc=t.getContext("2d")}set xPosition(t){this.x=t+40}set yPosition(t){this.y=t+40}getId(){return this.id}setHue(t){this.colour=t}parseHue(t){return parseInt(t.split(",")[0].split("(")[1])}getSelected(){return this.selected}setSelected2(t){this.selected=t}setSelected(){this.selected=!this.selected}draw(){if(!this.gc)throw new Error("Canvas not found");this.gc.save(),console.log("draw square"),this.gc.translate(this.x,this.y),this.gc.scale(this.scale,this.scale),this.gc.fillStyle=this.colour,this.gc.strokeStyle="white",this.selected&&(this.gc.canvas.style.backgroundColor="lightgrey",this.gc.strokeStyle="blue",this.gc.lineWidth=22,this.gc.beginPath(),this.gc.rect(this.x-10,this.y-10,this.width+20,this.height+20),this.gc.stroke(),this.gc.lineWidth=4),this.gc.lineWidth=4,this.gc.beginPath(),this.gc.rect(this.x+2,this.y+2,this.width-4,this.height-4),this.gc.stroke(),this.gc.fill(),this.gc.restore()}}class l{constructor(t,e=.4){o(this,"x",25);o(this,"y",26);o(this,"id",0);o(this,"scale");o(this,"colour");o(this,"colours");o(this,"eyePosition");o(this,"selected",!1);o(this,"gc");this.id=t,this.gc=null,this.scale=e,this.eyePosition=y(),this.colour=f()}set xPosition(t){this.x=t+40}set yPosition(t){this.y=t+40}setCanvas(t){if(!t)throw new Error("Canvas not found");this.gc=t.getContext("2d")}getId(){return this.id}setHue(t){this.colour=t}parseHue(t){return parseInt(t.split(",")[0].split("(")[1])}getSelected(){return this.selected}setSelected2(t){this.selected=t}setSelected(){this.selected=!this.selected}draw(){if(!this.gc)throw new Error("Canvas not found");this.gc.save(),this.gc.translate(this.x,this.y),this.gc.scale(this.scale,this.scale),this.gc.fillStyle=this.colour,this.gc.strokeStyle="white",this.gc.lineWidth=8,this.selected&&(this.gc.canvas.style.backgroundColor="lightgrey"),this.gc.beginPath(),this.gc.moveTo(-40,-48),this.gc.lineTo(-8,-36),this.gc.lineTo(-35,-14),this.gc.closePath(),this.gc.moveTo(40,-48),this.gc.lineTo(8,-36),this.gc.lineTo(35,-14),this.gc.closePath(),this.gc.fill(),this.gc.beginPath(),this.gc.arc(0,0,40,0,2*Math.PI),this.gc.fill(),this.gc.strokeStyle="black",this.gc.fillStyle="white",this.gc.lineWidth=1,this.gc.beginPath(),this.gc.ellipse(-16,-9,8,14,0,0,Math.PI*2),this.gc.fill(),this.gc.stroke(),this.gc.beginPath(),this.gc.ellipse(16,-9,8,14,0,0,Math.PI*2),this.gc.fill(),this.gc.stroke(),this.eyePosition==="Centre"?(this.gc.fillStyle="black",this.gc.beginPath(),this.gc.arc(-16,-9,5,0,Math.PI*2),this.gc.fill(),this.gc.beginPath(),this.gc.arc(16,-9,5,0,Math.PI*2),this.gc.fill()):this.eyePosition==="Left"?(this.gc.fillStyle="black",this.gc.beginPath(),this.gc.arc(-20,-9,5,0,Math.PI*2),this.gc.fill(),this.gc.beginPath(),this.gc.arc(12,-9,5,0,Math.PI*2),this.gc.fill()):this.eyePosition==="Right"&&(this.gc.fillStyle="black",this.gc.beginPath(),this.gc.arc(-12,-9,5,0,Math.PI*2),this.gc.fill(),this.gc.beginPath(),this.gc.arc(20,-9,5,0,Math.PI*2),this.gc.fill()),this.gc.restore()}}class r{constructor(t,e=25,i=25,s=.5){o(this,"colour");o(this,"colours");o(this,"gc");o(this,"id",0);o(this,"points",5);o(this,"radius",45);o(this,"selected",!1);o(this,"width",50);o(this,"height",50);this.x=e,this.y=i,this.scale=s,this.gc=null,this.radius=C(),this.points=_(),this.colour=f(),this.id=t}set xPosition(t){this.x=t+40}set yPosition(t){this.y=t+40}setCanvas(t){if(!t)throw new Error("Canvas not found");this.gc=t.getContext("2d")}getId(){return this.id}parseHue(t){return parseInt(t.split(",")[0].split("(")[1])}setHue(t){this.colour=t}getPoints(){return this.points}setPoints(t){this.points=t}getRadius(){return this.radius}setRadius(t){this.radius=t}getSelected(){return this.selected}setSelected2(t){this.selected=t}setSelected(){this.selected=!this.selected}draw(){if(!this.gc)throw new Error("Canvas not found");this.gc.save(),this.gc.scale(this.scale,this.scale),this.gc.beginPath(),this.gc.translate(this.x,this.y),this.gc.rotate(Math.PI);let t=-25,e=-25;this.radius,this.selected==!0&&(this.gc.beginPath(),this.gc.rect(this.x-2,this.y-2,this.width+4,this.height+4),this.gc.strokeStyle="blue",this.gc.canvas.style.backgroundColor="lightgrey",this.gc.lineWidth=3,this.gc.fillStyle="white",this.gc.stroke(),this.gc.beginPath(),this.gc.rect(this.x-1.5,this.y-1.5,this.width+3,this.height+3),this.gc.strokeStyle="white",this.gc.lineWidth=2.5,this.gc.fillStyle="white",this.gc.stroke()),this.drawStar(t,e,this.radius,this.colour,this.points),this.gc.restore()}drawStar(t,e,i,s,n){const c=n;if(!this.gc)throw new Error("Canvas not found");this.gc.fillStyle=s,this.gc.beginPath(),this.gc.moveTo(t,e+i);for(let g=0;g<2*c+1;g++){const E=g%2===0?i:i/2,m=Math.PI*g/c;this.gc.lineTo(t+E*Math.sin(m),e+E*Math.cos(m))}this.gc.closePath(),s&&this.gc.fill(),this.gc.strokeStyle="black",this.gc.stroke()}}class d{constructor(t,e=25,i=25){o(this,"gc");o(this,"rings",5);o(this,"colours");o(this,"colour");o(this,"id",0);o(this,"selected",!1);o(this,"scale",1);o(this,"radius",20);this.x=e,this.y=i,this.gc=null,this.id=t,this.rings=b(),this.colours=[f(),f()]}set xPosition(t){this.x=t+40}set yPosition(t){this.y=t+40}setCanvas(t){if(!t)throw new Error("Canvas not found");this.gc=t.getContext("2d")}getRings(){return this.rings}getId(){return this.id}parseHue(t){return parseInt(t.split(",")[0].split("(")[1])}setRing(t){this.rings=t}getRing(){return this.rings}setHue(t){this.colours[0]=parseInt(t.split(",")[0].split("(")[0]).toString(),this.colours[1]=parseInt(t.split(",")[0].split("(")[1]).toString()}setHue1(t){this.colours[0]=t}setHue2(t){this.colours[1]=t}getSelected(){return this.selected}setSelected2(t){this.selected=t}setSelected(){this.selected=!this.selected}draw(){if(!this.gc)throw new Error("Canvas not found");this.gc.save(),this.gc.scale(this.scale,this.scale);let t=0;this.selected&&(this.gc.canvas.style.backgroundColor="lightgrey");const e=(i,s)=>{if(!this.gc)throw new Error("Canvas not found");this.gc.beginPath(),this.gc.arc(i,s,this.radius*this.scale*(1-t/this.rings),0,Math.PI*2),this.gc.fill(),this.gc.stroke()};for(t=0;t<this.rings;t++)this.gc.fillStyle=this.colours[t%this.colours.length],this.gc.strokeStyle="black",this.gc.lineWidth=2,e(this.x,this.y);this.gc.restore()}}let a=1;class P extends S{constructor(){super();o(this,"undoManager",new v);o(this,"shiftdown",!1);o(this,"selectedNum",0);o(this,"shapes",[]);o(this,"toBeEdited");o(this,"sizeX",0);o(this,"sizeY",0);o(this,"keyboardEvent",!1);o(this,"key","");o(this,"mouseX",0);o(this,"mouseY",0);for(let e=0;e<8;e++){console.log(a);const i=new u(a++);this.shapes.push(i)}}undo(){this.undoManager.undo(),this.notifyObservers()}redo(){this.undoManager.redo(),this.notifyObservers()}get canUndo(){return this.undoManager.canUndo}get canRedo(){return this.undoManager.canRedo}setShiftDown(){this.shiftdown=!0}setShiftUp(){this.shiftdown=!1}allShapes(){return[...this.shapes]}handleSize(e,i){this.sizeX=e,this.sizeY=i,console.log("1-- ",e,i),this.notifyObservers()}handleAddShape(e){if(this.shapes.length>=25){console.log(" 25 shapes: full"),this.notifyObservers();return}console.log("add shape..."),console.log(a);const i=this.shapes;if(e=="Square"){this.shapes=[...i,new u(a++)];const s=this.shapes;this.undoManager.execute({do:()=>{this.shapes=s},undo:()=>{this.shapes=i}})}if(e=="Cat"){this.shapes=[...i,new l(a++)];const s=this.shapes;this.undoManager.execute({do:()=>{this.shapes=s},undo:()=>{this.shapes=i}})}if(e=="Star"){this.shapes=[...i,new r(a++)];const s=this.shapes;this.undoManager.execute({do:()=>{this.shapes=s},undo:()=>{this.shapes=i}})}if(e=="Bullseye"){this.shapes=[...i,new d(a++)];const s=this.shapes;this.undoManager.execute({do:()=>{this.shapes=s},undo:()=>{this.shapes=i}})}this.handleDisableButton(),this.notifyObservers()}handleDeleteShape(){const e=this.shapes,i=this.selectedNum;this.undoManager.execute({do:()=>{this.shapes=this.shapes.filter(s=>!s.getSelected()),this.selectedNum=0},undo:()=>{this.shapes=e,this.selectedNum=i}}),this.shapes=this.shapes.filter(s=>!s.getSelected()),this.selectedNum=0,this.shiftdown=!1,this.handleDisableButton(),this.notifyObservers()}handleClearShape(){const e=this.shapes,i=this.selectedNum;this.undoManager.execute({do:()=>{this.shapes=[],this.selectedNum=0},undo:()=>{this.shapes=e,this.selectedNum=i}}),this.shapes=[],this.selectedNum=0,this.handleDisableButton(),this.notifyObservers()}selectShape(e){this.shiftdown==!0?this.handleShiftSelect(e):(this.selectedNum=0,this.shapes.forEach(i=>{this.shapes.indexOf(i)==e?(i.setSelected(),console.log("*no shift select*")):i.setSelected2(!1),i.getSelected()==!0&&this.selectedNum++})),this.selectedNum==0&&console.log("no shape selected"),this.selectedNum==1&&(this.toBeEdited=this.shapes[e]),this.notifyObservers()}deselectAll(){console.log("deselect all"),this.shapes.forEach(e=>{e.setSelected2(!1)}),this.selectedNum=0,this.handleDisableButton(),this.notifyObservers()}handleShiftSelect(e){this.selectedNum=0,this.shapes.forEach(i=>{this.shapes.indexOf(i)==e&&(i.setSelected(),console.log("Multiple shift selection")),i.getSelected()==!0&&this.selectedNum++}),this.handleDisableButton(),this.notifyObservers()}handleDisableButton(){this.selectedNum==25}update(){this.notifyObservers()}setNewHue(e){if(this.toBeEdited==null)throw new Error("toBeEdited is undefined");if(this.toBeEdited.colour!=e){const i=this.toBeEdited.colour;this.undoManager.execute({do:()=>{if(this.toBeEdited==null)throw new Error("toBeEdited is undefined");this.toBeEdited.setHue(e)},undo:()=>{if(this.toBeEdited==null)throw new Error("toBeEdited is null");this.toBeEdited.colour=i}}),this.toBeEdited.setHue(e),this.notifyObservers()}}setNewHue1(e){if(this.toBeEdited==null)throw new Error("toBeEdited is undefined");if(this.toBeEdited instanceof d&&this.toBeEdited.colours[0]!=e){const i=this.toBeEdited.colours[0];this.undoManager.execute({do:()=>{if(this.toBeEdited==null||!(this.toBeEdited instanceof d))throw new Error("toBeEdited is null");this.toBeEdited.setHue1(e)},undo:()=>{if(this.toBeEdited==null||!(this.toBeEdited instanceof d))throw new Error("toBeEdited is null");this.toBeEdited.colours[0]=i}}),this.toBeEdited.setHue1(e),this.notifyObservers()}}setNewHue2(e){if(this.toBeEdited==null)throw new Error("toBeEdited is undefined");if(this.toBeEdited instanceof d&&this.toBeEdited.colours[1]!=e){const i=this.toBeEdited.colours[1];this.undoManager.execute({do:()=>{if(this.toBeEdited==null||!(this.toBeEdited instanceof d))throw new Error("toBeEdited is null");this.toBeEdited.setHue2(e)},undo:()=>{if(this.toBeEdited==null||!(this.toBeEdited instanceof d))throw new Error("toBeEdited is null");this.toBeEdited.colours[1]=i}}),this.toBeEdited.setHue2(e),this.notifyObservers()}}setNewRing(e){if(this.toBeEdited==null)throw new Error("toBeEdited is undefined");if(this.toBeEdited instanceof d&&this.toBeEdited.rings!=e){const i=this.toBeEdited.rings;this.undoManager.execute({do:()=>{if(this.toBeEdited==null||!(this.toBeEdited instanceof d))throw new Error("toBeEdited is null");this.toBeEdited.setRing(e)},undo:()=>{if(this.toBeEdited==null||!(this.toBeEdited instanceof d))throw new Error("toBeEdited is null");this.toBeEdited.rings=i}}),this.toBeEdited.setRing(e),this.notifyObservers()}}setNewRadius(e){if(this.toBeEdited==null)throw new Error("toBeEdited is undefined");if(this.toBeEdited instanceof r&&this.toBeEdited.radius!=e){const i=this.toBeEdited.radius;this.undoManager.execute({do:()=>{if(this.toBeEdited==null||!(this.toBeEdited instanceof r))throw new Error("toBeEdited is null");this.toBeEdited.setRadius(e)},undo:()=>{if(this.toBeEdited==null||!(this.toBeEdited instanceof r))throw new Error("toBeEdited is null");this.toBeEdited.radius=i}}),this.toBeEdited.setRadius(e),this.notifyObservers()}}setNewPoints(e){if(this.toBeEdited==null)throw new Error("toBeEdited is undefined");if(this.toBeEdited instanceof r&&this.toBeEdited.points!=e){const i=this.toBeEdited.points;this.undoManager.execute({do:()=>{if(this.toBeEdited==null||!(this.toBeEdited instanceof r))throw new Error("toBeEdited is null");this.toBeEdited.setPoints(e)},undo:()=>{if(this.toBeEdited==null||!(this.toBeEdited instanceof r))throw new Error("toBeEdited is null");this.toBeEdited.points=i}}),this.toBeEdited.setPoints(e),this.notifyObservers()}}setNewLook(e){if(this.toBeEdited==null)throw new Error("toBeEdited is undefined");if(this.toBeEdited instanceof l&&this.toBeEdited.eyePosition!=e){const i=this.toBeEdited.eyePosition;this.undoManager.execute({do:()=>{if(this.toBeEdited==null||!(this.toBeEdited instanceof l))throw new Error("toBeEdited is null");this.toBeEdited.eyePosition=e},undo:()=>{if(this.toBeEdited==null||!(this.toBeEdited instanceof l))throw new Error("toBeEdited is null");this.toBeEdited.eyePosition=i}}),this.toBeEdited.eyePosition=e,this.notifyObservers()}}}class k{constructor(t){o(this,"container",null);o(this,"buttonAdd",document.createElement("button"));o(this,"buttonDelete",document.createElement("button"));o(this,"buttonClear",document.createElement("button"));o(this,"shapeSelect",document.createElement("select"));this.model=t,this.container=document.createElement("div"),this.container.id="toolbar",this.drawButtons(),this.buttonAdd.addEventListener("click",()=>{this.model.handleAddShape(this.shapeSelect.value)}),this.buttonDelete.addEventListener("click",()=>{this.model.handleDeleteShape()}),this.buttonClear.addEventListener("click",()=>{this.model.handleClearShape()}),this.model.addObserver(this)}update(){if(this.container===null)throw new Error("container is null");console.log("update toolbar"),this.model.allShapes().length>=25?this.buttonAdd.disabled=!0:this.buttonAdd.disabled=!1,this.model.selectedNum==0?this.buttonDelete.disabled=!0:this.buttonDelete.disabled=!1,this.model.allShapes().length==0?this.buttonClear.disabled=!0:this.buttonClear.disabled=!1}get root(){if(this.container===null)throw new Error("container is null");return this.container}drawButtons(){if(this.buttonAdd.innerText="Add",this.buttonDelete.innerText="Delete",this.buttonClear.innerText="Clear",this.shapeSelect.id="shape_selected",this.shapeSelect.options.length=0,this.shapeSelect.options.add(new Option("Square","Square")),this.shapeSelect.options.add(new Option("Star","Star")),this.shapeSelect.options.add(new Option("Cat","Cat")),this.shapeSelect.options.add(new Option("Bullseye","Bullseye")),this.container==null)throw"no container of buttons";this.container.appendChild(this.buttonAdd),this.container.appendChild(this.shapeSelect),this.container.appendChild(this.buttonDelete),this.container.appendChild(this.buttonClear)}}class H{constructor(t){o(this,"container");this.model=t,this.container=document.createElement("div"),this.container.id="shape_list",this.container.addEventListener("click",e=>{const i=e.target;if(i.tagName==="CANVAS"){const s=Array.from(i.parentElement.parentElement.children).indexOf(i.parentElement);this.model.selectShape(s)}else this.model.deselectAll();this.model.handleSize(window.innerWidth,window.innerHeight)}),this.model.addObserver(this)}update(){this.container.replaceChildren(),console.log("update shape list",this.model.allShapes().length),this.model.allShapes().forEach(t=>{const e=document.createElement("div"),i=document.createElement("canvas");if(i.width=50,i.height=50,t.setCanvas(i),t instanceof r){const s=new r(0);s.colour=t.colour,s.setCanvas(i),s.x=t.x,s.y=t.y,s.scale=t.scale,s.points=t.points,s.radius=45,s.draw(),e.appendChild(i),this.container.appendChild(e)}else t.draw(),e.appendChild(i),this.container.appendChild(e)})}get root(){return this.container}}class N{constructor(t){o(this,"container");o(this,"leftStatus");o(this,"rightStatus");this.model=t,this.container=document.createElement("div"),this.container.id="statusbar",this.leftStatus=document.createElement("div"),this.leftStatus.id="leftstatus",this.rightStatus=document.createElement("div"),this.rightStatus.id="rightstatus",this.rightStatus.innerText=`Selected: ${this.model.selectedNum}`,this.container.appendChild(this.leftStatus),this.container.appendChild(this.rightStatus),this.model.addObserver(this)}update(){this.checkStatus()}get root(){return this.container}checkStatus(){this.model.allShapes().length<25?this.leftStatus.innerText=`${this.model.allShapes().length} shapes `:this.leftStatus.innerText="25 shapes FULL ",this.model.shiftdown?this.rightStatus.innerText="SHIFT   ":this.rightStatus.innerText="",this.rightStatus.innerText+=`    selected ${this.model.selectedNum}  `}}class M{constructor(t){o(this,"container");this.model=t,this.container=document.createElement("div"),this.container.id="left",this.container.appendChild(new k(t).root),this.container.appendChild(new H(t).root),this.container.appendChild(new N(t).root),this.handleKeyboardEvent(),this.model.addObserver(this)}update(){}get root(){return this.container}handleKeyboardEvent(){addEventListener("keydown",t=>{t.shiftKey&&t.ctrlKey&&t.key==="Z"||t.shiftKey&&t.ctrlKey&&t.code==="KeyZ"?this.model.canRedo&&(this.model.redo(),console.log("Shift + Control + Z pressed")):t.ctrlKey&&t.key==="z"&&this.model.canUndo&&(this.model.undo(),console.log("Control + Z pressed")),t.key==="Shift"&&this.model.setShiftDown()}),addEventListener("keyup",t=>{t.key==="Shift"&&this.model.setShiftUp()}),addEventListener("resize",()=>{console.log("resize: ",window.innerWidth,window.innerHeight),this.model.handleSize(window.innerWidth,window.innerHeight)})}}class I{constructor(t){o(this,"container");o(this,"editor");o(this,"form");o(this,"hue");o(this,"hue2");o(this,"hue_text");o(this,"hue_text2");o(this,"points_text");o(this,"radius_text");o(this,"radius");o(this,"points");o(this,"look_select");o(this,"rings_text");o(this,"rings");this.model=t,this.container=document.createElement("div"),this.container.id="right",this.editor=null,this.form=null,this.hue=null,this.hue2=null,this.hue_text=null,this.hue_text2=null,this.points_text=null,this.radius_text=null,this.radius=null,this.points=null,this.look_select=null,this.rings_text=null,this.rings=null,this.model.addObserver(this)}update(){if(this.container.replaceChildren(),this.model.selectedNum!=1){this.drawRawEditor();return}else if(this.model.selectedNum==1)console.log("draw form editor"),this.drawFormEditor();else throw new Error("Invalid number of selected shapes.")}get root(){return this.container}drawRawEditor(){this.editor=document.createElement("div"),this.editor.id="editor",this.container.appendChild(this.editor),this.model.selectedNum==0?this.editor.innerText="Select One":this.editor.innerText="Too Many Selected",this.editor.style.fontSize="20px",this.editor.style.height="10%",this.editor.style.width="80%",this.editor.style.justifyItems="center",this.container.style.alignItems="center",this.container.style.justifyContent="center"}drawFormEditor(){this.editor=document.createElement("div"),this.editor.id="editor";const t=document.createElement("canvas");if(t.id="editor_canvas",this.editor.style.width="80%",this.editor.style.height="80%",this.model.toBeEdited==null)throw new Error("toBeEdited is undefined.");let e=null;if(this.model.toBeEdited instanceof u)console.log("IM A SQUARE"),e=new u(1e3),e.colour=this.model.toBeEdited.colour,e.selected=!1,e.setCanvas(t),e.x=0,e.y=0,console.log("sizeX",this.model.sizeX),e.width=this.model.sizeX*1/3+60,e.height=e.width;else if(this.model.toBeEdited instanceof l)e=new l(1e3),e.colour=this.model.toBeEdited.colour,e.eyePosition=this.model.toBeEdited.eyePosition,e.setCanvas(t),e.scale=1.2,e.x=(this.model.sizeX-40)*1/7,e.y=(this.model.sizeY-40)*1/8;else if(this.model.toBeEdited instanceof d)e=new d(1e3),e.setRing(this.model.toBeEdited.getRing()),e.radius=30,e.colours[0]=this.model.toBeEdited.colours[0],e.colours[1]=this.model.toBeEdited.colours[1],e.setCanvas(t),e.scale=1.5,e.x=100,e.y=this.model.sizeY*1/3,e.y=50;else if(this.model.toBeEdited instanceof r)e=new r(1e3),e.colour=this.model.toBeEdited.colour,e.setPoints(this.model.toBeEdited.getPoints()),e.setRadius(this.model.toBeEdited.getRadius()),e.setCanvas(t),e.x=this.model.sizeX*1/10,e.y=this.model.sizeY*1/20,e.scale=1.3;else throw new Error("Unknown shape.");if(e==null)throw new Error("Shape is null.");if(e.draw(),this.editor.appendChild(t),this.editor.style.width="100%",this.editor.style.height="100%",this.container.appendChild(this.editor),this.form=document.createElement("div"),this.form.id="form",this.form==null)throw new Error("Form is null.");if(e instanceof u)this.drawSquareForm(),this.hue_text.addEventListener("input",i=>{let s=i.target.value;s=s.replace(/[^0-9]/g,"");const n=parseInt(s)||0;if(this.hue_text==null)throw new Error("Hue_text is null.");if(n>0&&n<=360){if(this.model.toBeEdited==null)throw new Error("toBeEdited is undefined.");this.model.setNewHue(`hsl(${n}, 100%, 50%)`),this.hue_text.style.outline="none",this.hue_text.focus()}else this.hue_text.style.outline="2px solid red"});else if(e instanceof l)this.drawCatForm(),this.hue_text.addEventListener("input",i=>{let s=i.target.value;s=s.replace(/[^0-9]/g,"");const n=parseInt(s)||0;if(this.hue_text==null)throw new Error("Hue_text is null.");if(n>=0&&n<=360){if(this.model.toBeEdited==null)throw new Error("toBeEdited is undefined.");this.model.setNewHue(`hsl(${n}, 100%, 50%)`),this.hue_text.style.outline="none",this.hue_text.focus()}else this.hue_text.style.outline="2px solid red"}),this.look_select.addEventListener("change",i=>{if(console.log("CHANGE MY EYESS"),this.model.toBeEdited==null)throw new Error("toBeEdited is undefined.");this.model.setNewLook(i.target.value)});else if(e instanceof d)this.drawBullseyeForm(),this.hue_text.addEventListener("input",i=>{console.log("IN HUE TEXT 1");let s=i.target.value;s=s.replace(/[^0-9]/g,"");const n=parseInt(s)||0;if(this.hue_text==null)throw new Error("Hue_text is null.");if(n>=0&&n<=360){if(this.model.toBeEdited==null)throw new Error("toBeEdited is undefined.");this.model.setNewHue1(`hsl(${n}, 100%, 50%)`),this.hue_text.focus()}else this.hue_text.style.outline="2px solid red"}),this.hue_text2.addEventListener("input",i=>{console.log("IN HUE TEXT 2");let s=i.target.value;s=s.replace(/[^0-9]/g,"");const n=parseInt(s)||0;if(this.hue_text2==null)throw new Error("Hue_text2 is null.");if(n>=0&&n<=360){if(this.model.toBeEdited==null)throw new Error("toBeEdited is undefined.");this.model.setNewHue2(`hsl(${n}, 100%, 50%)`),this.hue_text2.focus()}else this.hue_text2.style.outline="2px solid red"}),this.rings_text.addEventListener("input",i=>{console.log("IN RINGS TEXT");let s=i.target.value;s=s.replace(/[^0-9]/g,"");const n=parseInt(s)||0;if(this.rings_text==null)throw new Error("Rings_text is null.");if(n>=2&&n<=5){if(this.model.toBeEdited==null)throw new Error("toBeEdited is undefined.");this.model.setNewRing(n),this.rings_text.focus()}else this.rings_text.style.outline="2px solid red"});else if(e instanceof r)this.drawStarForm(),this.hue_text.addEventListener("input",i=>{let s=i.target.value;s=s.replace(/[^0-9]/g,"");const n=parseInt(s)||0;if(this.hue_text==null)throw new Error("Hue_text is null.");if(n>=0&&n<=360){if(this.model.toBeEdited==null)throw new Error("toBeEdited is undefined.");this.model.setNewHue(`hsl(${n}, 100%, 50%)`),this.hue_text.focus()}else this.hue_text.style.outline="2px solid red"}),this.radius_text.addEventListener("input",i=>{console.log("IN RADIUS TEXT");let s=i.target.value;s=s.replace(/[^0-9]/g,"");const n=parseInt(s)||0;if(this.radius_text==null)throw new Error("Radius_text is null.");if(n>=20&&n<=45){if(this.model.toBeEdited==null)throw new Error("toBeEdited is undefined.");this.model.setNewRadius(n),this.radius_text.focus()}else this.radius_text.style.outline="2px solid red"}),this.points_text.addEventListener("input",i=>{console.log("IN POINTS TEXT");let s=i.target.value;s=s.replace(/[^0-9]/g,"");const n=parseInt(s)||0;if(this.points_text==null)throw new Error("Points_text is null.");if(n>=3&&n<=19){if(this.model.toBeEdited==null)throw new Error("toBeEdited is undefined.");this.model.setNewPoints(n),this.points_text.focus()}else this.points_text.style.outline="2px solid red"});else throw new Error("Unknown shape.")}drawSquareForm(){if(this.form==null)throw new Error("Form is null.");if(this.hue=document.createElement("div"),this.hue.id="hue",this.hue_text=document.createElement("input"),this.hue_text.type="number",this.hue_text.min="0",this.hue_text.max="360",this.hue.innerText="Hue",this.model.toBeEdited==null)throw new Error("toBeEdited is undefined.");this.hue_text.value=this.model.toBeEdited.parseHue(this.model.toBeEdited.colour).toString(),this.hue.appendChild(this.hue_text),this.form.appendChild(this.hue),this.container.appendChild(this.form)}drawCatForm(){if(this.form==null)throw new Error("Form is null.");if(this.hue=document.createElement("div"),this.hue.id="hue",this.hue_text=document.createElement("input"),this.hue_text.type="number",this.hue.innerText="Hue",this.hue_text.min="0",this.hue_text.max="360",this.model.toBeEdited==null)throw new Error("toBeEdited is undefined.");this.hue_text.value=this.model.toBeEdited.parseHue(this.model.toBeEdited.colour).toString(),this.hue.appendChild(this.hue_text),this.form.appendChild(this.hue);const t=document.createElement("div");t.id="look",t.innerText="Look",this.look_select=document.createElement("select"),this.look_select.id="look_select",this.look_select.options.add(new Option("Centre","Centre")),this.look_select.options.add(new Option("Left","Left")),this.look_select.options.add(new Option("Right","Right")),this.model.toBeEdited instanceof l&&(this.look_select.value=this.model.toBeEdited.eyePosition),t.appendChild(this.look_select),this.form.appendChild(t),this.container.appendChild(this.form)}drawBullseyeForm(){if(this.form==null)throw new Error("Form is null.");if(this.hue=document.createElement("div"),this.hue.id="hue",this.hue_text=document.createElement("input"),this.hue_text.type="number",this.hue_text.min="0",this.hue_text.max="360",this.hue.innerText="Hue1",this.hue_text.placeholder="0-360",this.model.toBeEdited==null)throw new Error("toBeEdited is undefined.");if(this.model.toBeEdited instanceof d&&(this.hue_text.value=this.model.toBeEdited.parseHue(this.model.toBeEdited.colours[0]).toString()),this.hue.appendChild(this.hue_text),this.form.appendChild(this.hue),this.hue2=document.createElement("div"),this.hue2.id="hue2",this.hue_text2=document.createElement("input"),this.hue_text2.type="number",this.hue_text2.min="0",this.hue_text2.max="360",this.hue2.innerText="Hue2",this.hue_text2.placeholder="0-360",this.model.toBeEdited==null)throw new Error("toBeEdited is undefined.");if(this.model.toBeEdited instanceof d&&(this.hue_text2.value=this.model.toBeEdited.parseHue(this.model.toBeEdited.colours[1]).toString()),this.hue2.appendChild(this.hue_text2),this.form.appendChild(this.hue2),this.rings=document.createElement("div"),this.rings.id="rings",this.rings.innerText="Rings",this.rings_text=document.createElement("input"),this.rings_text.type="number",this.rings_text.min="2",this.rings_text.max="5",this.rings_text.placeholder="2-5",this.model.toBeEdited==null)throw new Error("toBeEdited is undefined.");this.model.toBeEdited instanceof d&&(this.rings_text.value=this.model.toBeEdited.getRing().toString()),this.rings.appendChild(this.rings_text),this.form.appendChild(this.rings),this.container.appendChild(this.form)}drawStarForm(){if(this.form==null)throw new Error("Form is null.");if(this.hue=document.createElement("div"),this.hue.id="hue",this.hue_text=document.createElement("input"),this.hue_text.type="number",this.hue.innerText="Hue",this.hue_text.min="0",this.hue_text.max="360",this.model.toBeEdited==null)throw new Error("toBeEdited is undefined.");if(this.hue_text.value=this.model.toBeEdited.parseHue(this.model.toBeEdited.colour).toString(),this.hue.appendChild(this.hue_text),this.form.appendChild(this.hue),this.radius=document.createElement("div"),this.radius.id="radius",this.radius.innerText="Radius",this.radius_text=document.createElement("input"),this.radius_text.type="number",this.radius_text.min="20",this.radius_text.max="45",this.model.toBeEdited==null)throw new Error("toBeEdited is undefined.");if(this.model.toBeEdited instanceof r&&(this.radius_text.value=this.model.toBeEdited.getRadius().toString()),this.radius.appendChild(this.radius_text),this.form.appendChild(this.radius),this.points=document.createElement("div"),this.points.id="points",this.points.innerText="Points",this.points_text=document.createElement("input"),this.points_text.type="number",this.points_text.min="3",this.points_text.max="19",this.model.toBeEdited==null)throw new Error("toBeEdited is undefined.");this.model.toBeEdited instanceof r&&(this.points_text.value=this.model.toBeEdited.getPoints().toString()),this.points.appendChild(this.points_text),this.form.appendChild(this.points),this.container.appendChild(this.form)}}console.log("imperative");const w=new P,R=document.querySelector("div#app"),O=window.innerWidth;console.log(O);const p=document.createElement("div");p.id="panel";p.appendChild(new M(w).root);p.appendChild(new I(w).root);R.appendChild(p);
